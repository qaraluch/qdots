# Profil file runs on zsh shell login.
# Environmental variables are set here.

# Default programs
export VISUAL='nvim'
export EDITOR="$VISUAL"
export PAGER=less
export BROWSER='brave'
export SUDO_ASKPASS="${HOME}/bin/xorg/dmenu/askpass-dm"

# Qdots vars
# wallpaper vars can not be in .zshrc
# other placed here for consistency
export QDOTS_WALLPAPER="$HOME/.local/share/wallpaper-qdots"
export QDOTS_WALLPAPER_LOCK="$HOME/.local/share/wallpaper-lock-qdots"
export QDOTS_CONF_DIR="$HOME/.config"
export QDOTS_ZSH_CONF_DIR="$QDOTS_CONF_DIR/zsh"
export QDOTS_ZSH_LOCALSHARE_DIR="$HOME/.local/share"
export QDOTS_ZSH_HISTORY_DIR="$HOME/.local/share/zsh"
export QDOTS_ZSH_CACHE_DIR="$HOME/.cache/zsh"
export QDOTS_ZSH_CACHE_PLUGS_DIR="$HOME/.cache/zsh/plugs"
export QDOTS_FUNCTIONS_DIR="$QDOTS_CONF_DIR/functions"


# XDG cofiguration for zsh
export ZDOTDIR=$HOME/.config/zsh

# User scripts
# - add scripts (~/bin and subdirs) to the $PATH
# - login-wide scope
# - removes inconvenient trailing colon
[[ ":$PATH:" != *":${HOME}/bin"* ]] && export PATH="$PATH:$(du -L "$HOME/bin" | cut -f2 | tr '\n' ':' | rev | cut -c 2- | rev)"

# Xorg start
[ "$(tty)" = "/dev/tty1" ] && ! pgrep -x Xorg >/dev/null && exec startx
